# 数据的集中趋势

- [数据的集中趋势](#数据的集中趋势)
  - [1. 平均值、中位数和众数](#1-平均值中位数和众数)
  - [2. 加权平均值](#2-加权平均值)
  - [3. 分布形状](#3-分布形状)

2024-05-06 ⭐
@author Jiawei Mao
***

## 1. 平均值、中位数和众数

**集中趋势度量**，指一个代表数据集的典型值或中心值的数值。三种最常用的度量为：

- 平均值（mean）
- 中位数（median）
- 众数（mode）

总体平均值：

$$
\mu=\frac{\sum x}{N}
$$

样本平均值：

$$
\overline{x}=\frac{\sum x}{n}
$$

计算样本均值：

```java
double mean = StatUtils.mean(274, 235, 223, 268, 290, 285, 235);
assertEquals(mean, 258.6, 1e-1);
```

中位数，对数据集排序后，位于数据中间的值：

- 当数据有奇数个，中位数是中间的数据；
- 当数据有偶数个，中位数是中间两个数的平均值。

计算中位数：

```java
double median = StatUtils.percentile(new double[]{223, 235, 235, 268, 274, 285, 290}, 50);
assertEquals(median, 268, 0.1);
```

偶数个数值，计算中位数：

```java
double median2 = StatUtils.percentile(new double[]{223, 235, 235, 268, 274, 290}, 50);
assertEquals(median2, 251.5, 0.01);
```

**众数（mode）** 是数据集中出现频率最高的值：

- 当没有重复出现的数据，就没有众数；
- 当两个数值以相同的最高频率出现，则有两个众数，称为**双峰（bimodal）**。

众数是唯一可用于描述 nominal 数据类型的指标。在处理定量数据是，很少使用众数。

> 平均值、中位数和众数各有优缺点。平均值是一个可靠的指标，因为它考虑了数据集的每个数据，但是，当数据集包含**离群值（outlier）** 时，平均值可能会受到很大影响。

**离群值（outlier）** 指远离数据集中其它样本的数据。有些离群值是有效数据，有些则是由于数据记录错误而产生。数据集可以有多个离群值，从而导致分布中出现 **gap**。

## 2. 加权平均值

**加权平均值（weighted mean）** 

$$
\overline{x}=\frac{\sum xw}{\sum w}
$$

其中 $w$ 是 $x$ 的权重值。

## 3. 分布形状

对称分布：一个垂直线从中分开，两边是近似镜像。

均匀分布：所有类别具有近似或相等的频率（概率）。

当分布图形的发生倾斜，分为：

- 尾巴向左延伸（skewed left, negatively skewed）
- 尾巴向右延伸（skewed right, positively skewed）

当分布为对称分布且为单峰、均值、中位数和众数相等。

当分布向左倾斜，均值小于中位数，中位数通常小于众数。

当分布向右倾斜，均值大于中位数，中位数通常大于众数。

如下图所示：

<img src="./images/image-20240506175738983.png" alt="image-20240506175738983" style="zoom: 50%;" />

